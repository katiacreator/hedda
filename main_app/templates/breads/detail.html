{% extends 'base.html' %} {% load static %} {% block head %}
{% comment %} <link
  rel="stylesheet"
  type="text/css"
  href="{% static 'css/bread-index.css' %}"
/> {% endcomment %}
<script defer src="{% static 'js/timer.js' %}"></script>
{% comment %} <script defer src="{% static 'js/bread-detail.js' %}"></script> {% endcomment %}
{% endblock %} {% block content %}

<section class="page-header">
  <h1>Bread Details</h1>
</section>
<section class="card-container">
  <div class="card">
    <div class="card-content">
      <div class="card-img-container">
        {% if bread.photo.url %}
      <img 
        src="{{bread.photo.url}}" 
        alt="A photo of {{bread.name}}"
        class="usr-img"
      >
    {% else %}
      <img 
        src="" 
        alt="placeholder"
      >
    {% endif %}
      </div>
      <h2 class="card-title">{{ bread.name }}</h2>
      <p>{{ bread.description }}</p>
    </div>
     <div>
      <a href="{% url 'breads_update' bread.id %}" class="btn warn">Edit</a>
      <a href="{% url 'breads_delete' bread.id %}" class="btn danger">Delete</a>
    </div>
  </div>
</section>
{% comment %} Task Section starts here {% endcomment %}
<h1>Task Section</h1>
<section class="tasks">
    {% comment %} <div class="subsection-title">
      <h3>Add All Relevant Tasks to make this delicious bread!</h3>
    </div> {% endcomment %}
    <div class="subsection-content">
    <h3>Available tasks</h3>
      {% if tasks.count %}
        {% for task in tasks.all %}
          <div class="task-container">
            <a href="{% url 'tasks_detail' task.id %}">
              <p>{{ task.name }}</p>
            </a>
            <form action="{% url 'add_task' bread.id task.id %}" method="post">
              {% csrf_token %}
              <button type="submit" class="btn submit">Add task</button>
            </form>
          </div>
        {% endfor %}
      {% else %}
        <p class="all-tasks">
          You have added all the available tasks!  
        </p>
      {% endif %}
    </div>



<h1>Task Slider</h1>
{% if bread.tasks.count %}
  {% for task in bread.tasks.all %}
  <div class="card" id="taskid">
      <div class="card-content">
        <h2>{{ task.name }}</h2>
        <p id="timer">
          <span id="hour">{{ task.hours }}</span>:<span id="min">{{ task.minutes }}</span>
        </p>
        <button>
          <span>Start Btn</span>
        </button>
        <button>
          <span>Pause Btn</span>
        </button>
        <button>
          <span>Reset Btn</span>
        </button>
      {% endfor %}
      {% endif %}
      </div>
  </section>
</div>
{% endblock %}